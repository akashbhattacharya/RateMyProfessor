{%extends 'base.html'%}
{% load static%}
{%block title%}Menu{%endblock%}
{%block content%}
<p><u>Average professor ratings-</u></p>
<br>
<table>
    <tr>
        <th> ID </th>
        <th> Professor </th>
        <th> Average Rating </th>
    </tr>
    {% for entry in view%}
    <tr>
        <td>{{entry.ID}}</td>
        <td>{{entry.Name}}</td>
        <td>{{entry.Rating}}</td>
    </tr>
    {% endfor %}
</table>
<br>
<p><u>Module table-</u></p>
<br>
<table>
    <tr>
        <th class="num"> Module ID </th>
        <th class="modName"> Module Name </th>
        <th class="num"> Year </th>
        <th class="num"> Semester </th>
        <th> Professor </th>
    </tr>
    {% for entry in list%}
    <tr>
        <td class="num">{{entry.Module_ID}}</td>
        <td class="modName">{{entry.Module_Name}}</td>
        <td class="num">{{entry.Year}}</td>
        <td class="num">{{entry.Semester}}</td>
        <td>{{entry.Professor}}</td>
    </tr>
    {% endfor %}
</table>
<br>
<p>Rate your professor!</p>
<div id="rating_container">
    <form method="post" action="/rate/">
        <label for="mid">Modules-</label>
        <select name="mid" id="mid">
            {% for entry in list%}
            <option name="mid"value="{{entry.Module_ID}}">{{entry.Module_ID}}: {{entry.Module_Name}} ({{entry.Year}} / Sem {{entry.Semester}}) - {{entry.Professor}}</option>
            {% endfor %}
        </select>
        <label for="rate">Rate your professor-</label>
        <select name="rate" id="rate">
            <option name= "rate" value="1">1</option>
            <option name= "rate" value="2">2</option>
            <option name= "rate" value="3">3</option>
            <option name= "rate" value="4">4</option>
            <option name= "rate" value="5">5</option>
        </select>
        <button type="submit"> submit </button>
    </form>
</div>
<br>
<p><u>Previous Ratings-</u></p>
<br>
<table>
    <tr>
        <th class="num"> Module ID </th>
        <th> Professor </th>
        <th> Previous Rating </th>
    </tr>
    {% for entry in previous%}
    <tr>
        <td class="num">{{entry.Module_ID}}</td>
        <td>{{entry.Professor}}</td>
        <td class>{{entry.Rating}}.0</td>
    </tr>
    {% endfor %}
</table>
<br>
<button><a href="/logout/">Logout</a></button>
{%endblock%}